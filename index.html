<!doctype html>
<html>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<script
		src="https://code.jquery.com/jquery-3.7.1.min.js"
		integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
		crossorigin="anonymous"></script>
	<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"
		integrity="sha512-UXumZrZNiOwnTcZSHLOfcTs0aos2MzBWHXOHOuB0J/R44QB0dwY5JgfbvljXcklVf65Gc4El6RjZ+lnwd2az2g=="
		crossorigin="anonymous"
		referrerpolicy="no-referrer"></script>
	<style>
		body {
			height: 100vh;
			margin: 0;
		}
		body {
			height: 100%;
			width: 100%;
			background-color: #dedede;
		}
		.parent {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 100px 50px;
		}

		.div1 {
			grid-area: 1 / 2 / 3 / 3;
			height: 100vh;
		}
		.div2 {
			grid-area: 1 / 1 / 2 / 2;
			padding: 0.5rem;
		}
		.div3 {
			grid-area: 2 / 1 / 3 / 2;
		}
		.parent-j {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			grid-template-rows: repeat(3, 1fr);
			grid-column-gap: 0px;
			grid-row-gap: 0px;
			height: 100%;
			/* justify-items: center;
        align-items: center; */
		}

		.div-u {
			grid-area: 1 / 2 / 2 / 3;
			border: 1px solid gray;
			padding: 2rem 3rem;
			border-radius: 100% 100% 0 0; /**display:flex;flex-wrap:nowrap;justify-content:center;align-items:center;**/
		}
		.div-l {
			grid-area: 2 / 1 / 3 / 2;
			border: 1px solid gray;
			padding: 2.95rem 2.4rem;
			border-radius: 100% 0 0 100%;
		}
		.div-d {
			grid-area: 3 / 2 / 4 / 3;
			border: 1px solid gray;
			padding: 2rem 3rem;
			border-radius: 0 0 100% 100%;
		}
		.div-r {
			grid-area: 2 / 3 / 3 / 4;
			border: 1px solid gray;
			padding: 2.95rem 2.4rem;
			border-radius: 0 100% 100% 0;
		}
		.div-s {
			grid-area: 2 / 2 / 3 / 3;
			border: 1px solid rgb(233, 80, 80);
			padding: 3rem 2.3rem;
		}

		.image {
			height: 300px;
			aspect-ratio: 1/1;
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translateY(-50%) translateX(-50%);
			z-index: -1;
		}

		.image svg {
			width: 100%;
			height: 100%;
		}

		.analog {
			border: 1px solid rgb(216, 211, 211);
			display: flex;
			border-radius: 15px;
			justify-content: space-between;
			align-items: stretch;
		}
		.analog-value {
			font-size: 5rem;
		}
		.btn-set {
			width: 35%;
			border-radius: 0 10px 10px 0;
			border: none;
			background: #524ff0;
			color: white;
			font-size: 1.3rem;
		}
		.analog-data {
			display: flex;
			flex-wrap: wrap;
			align-content: stretch;
			justify-content: flex-start;
			padding: 0.5rem;
		}
		.div-slider {
			width: 100%;
		}
		.slider {
			width: 90%;
		}
		.circ-btn {
			border-radius: 100%;
			border: 1px solid red;
			width: 180px;
			height: 180px;
			background: none;
		}

		@media screen and (orientation: portrait) {
			.parent {
				display: grid;
				grid-template-columns: 1fr;
				grid-template-rows: repeat(3, 1fr);
				grid-column-gap: 0px;
				grid-row-gap: 0px;
			}

			.div1 {
				grid-area: 3 / 1 / 4 / 2;
				height: auto;
			}
			.div2 {
				grid-area: 2 / 1 / 3 / 2;
			}
			.div3 {
				grid-area: 1 / 1 / 2 / 2;
			}
		}

		.space-top {
			padding-top: 10px;
		}

		#joystick {
			height: 300px;
			width: 300px;
			border-radius: 300px;
			-moz-border-radius: 300px;
			-webkit-border-radius: 300px;
			text-align: center;
			background-color: #80d5ff;
			font:
				24px/300px Helvetica,
				Arial,
				sans-serif;
			cursor: all-scroll;
			user-select: none;
			z-index: -100;
		}

		.noselect {
			-webkit-touch-callout: none;
			-webkit-user-select: none;
			-khtml-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
		}
	</style>
	<div class="image">
		<svg
			version="1.0"
			xmlns="http://www.w3.org/2000/svg"
			width="640.000000pt"
			height="640.000000pt"
			viewBox="0 0 640.000000 640.000000"
			preserveAspectRatio="xMidYMid meet">
			<g
				transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"
				fill="#000000"
				stroke="none">
				<path
					d="M2975 6116 c-77 -46 -212 -128 -300 -183 -149 -92 -160 -101 -163
-131 -3 -24 -11 -36 -35 -48 -18 -9 -42 -25 -55 -35 -12 -9 -46 -20 -75 -24
-78 -10 -318 -52 -432 -75 -102 -21 -363 -88 -377 -96 -13 -8 -9 16 23 146 33
139 32 173 -7 220 -51 60 -151 60 -196 -1 -11 -15 -40 -111 -69 -234 -27 -115
-55 -214 -61 -221 -7 -6 -83 -37 -168 -69 -139 -52 -205 -79 -389 -161 l-54
-24 7 -63 c8 -77 139 -1090 207 -1602 29 -218 48 -396 45 -417 -4 -21 -31
-114 -61 -207 -49 -151 -55 -177 -55 -255 0 -47 -2 -86 -5 -86 -11 0 -300 -62
-306 -65 -6 -4 -2 -21 41 -180 12 -44 48 -183 81 -308 l59 -228 0 -425 0 -424
23 5 c12 2 74 16 137 31 338 76 782 152 1099 188 l124 14 206 -137 c113 -76
253 -169 311 -206 58 -38 164 -107 235 -153 284 -186 378 -243 390 -238 26 10
533 337 889 574 260 172 229 162 421 136 309 -40 693 -109 959 -173 93 -23
171 -40 172 -38 2 2 4 190 5 418 l0 414 64 215 c101 338 149 510 143 515 -3 3
-56 17 -119 30 -63 14 -124 28 -137 31 -22 4 -23 8 -21 97 2 89 0 99 -60 284
l-63 192 21 148 c24 168 81 597 141 1068 23 176 57 437 76 579 33 246 34 260
17 270 -31 18 -205 96 -293 131 -477 190 -931 316 -1335 371 -103 13 -135 22
-155 39 -14 12 -37 29 -52 38 -18 12 -28 26 -28 42 0 15 -9 30 -22 39 -462
287 -583 356 -622 356 -34 0 -66 -15 -181 -84z m40 -353 c-5 -173 -4 -277 4
-316 18 -98 81 -157 154 -143 41 8 69 36 96 97 19 42 20 68 21 312 1 154 5
269 11 272 5 4 9 -106 9 -286 0 -267 -2 -299 -21 -372 -21 -78 -74 -171 -120
-212 l-21 -20 -34 39 c-46 53 -81 117 -101 185 -14 48 -17 100 -15 351 2 275
6 350 19 350 3 0 2 -116 -2 -257z m-60 -90 c0 -323 4 -359 48 -448 11 -22 31
-55 45 -72 31 -41 19 -42 -43 -2 -67 43 -160 133 -207 203 -73 106 -198 392
-182 417 3 5 26 21 52 36 26 15 99 60 162 100 63 40 117 73 120 73 3 0 5 -138
5 -307z m444 285 c189 -114 302 -193 298 -207 -53 -170 -164 -387 -241 -469
-62 -66 -152 -133 -196 -147 l-25 -7 21 23 c29 32 58 92 81 164 16 53 18 97
18 362 0 167 2 303 4 303 2 0 20 -10 40 -22z m-805 -420 c40 -128 72 -180 147
-238 25 -19 85 -67 133 -106 48 -39 128 -93 178 -119 85 -45 92 -47 127 -36
111 33 435 280 483 367 35 65 88 203 88 231 0 36 15 35 59 -5 l42 -37 20 -150
c30 -219 28 -409 -4 -610 -15 -88 -31 -177 -37 -198 -13 -43 -67 -89 -330
-280 l-155 -112 -186 -3 -185 -3 -50 33 c-61 42 -209 149 -331 240 -51 38 -97
77 -103 88 -13 24 -55 274 -70 420 -13 120 -7 255 21 448 10 73 19 135 19 137
0 10 85 64 90 58 4 -5 23 -61 44 -125z m-244 37 c0 -7 -5 -36 -11 -63 l-10
-50 -57 -7 c-148 -18 -586 -121 -722 -171 -37 -13 -71 -24 -75 -24 -8 0 -2 36
15 101 7 26 18 40 38 48 57 23 253 74 402 106 133 29 193 40 370 68 46 8 50 7
50 -8z m1895 -30 c399 -79 699 -172 1115 -345 179 -74 200 -86 200 -113 0 -20
-54 -450 -115 -907 -14 -107 -45 -347 -69 -533 -24 -186 -46 -340 -48 -342 -2
-3 -33 24 -68 60 l-63 64 27 208 c67 516 176 1375 176 1395 0 9 -117 63 -250
115 -333 131 -744 248 -1030 295 -157 25 -151 21 -164 107 l-7 44 63 -7 c35
-4 140 -23 233 -41z m-2101 -256 c-11 -23 -14 -46 -10 -88 4 -31 11 -132 16
-226 8 -122 15 -176 26 -193 17 -26 127 -82 162 -82 25 0 28 -5 36 -67 l6 -41
-50 -7 c-27 -4 -61 -16 -76 -27 l-26 -21 -78 26 c-109 37 -197 44 -298 23
-132 -27 -200 -62 -295 -153 -104 -99 -162 -225 -174 -373 -8 -113 6 -151 84
-225 l65 -62 -48 -89 c-27 -49 -58 -109 -69 -134 -30 -72 -29 -71 -95 -44 -33
13 -69 24 -80 24 -11 0 -23 6 -25 13 -2 6 -15 102 -30 212 -14 110 -32 252
-40 315 -19 140 -85 686 -85 699 0 6 17 3 37 -6 47 -21 191 -23 248 -4 131 43
215 112 240 193 17 59 11 129 -16 176 l-19 33 28 10 c92 35 502 142 570 148 9
1 8 -7 -4 -30z m2281 -30 c260 -65 473 -136 714 -237 62 -26 115 -52 118 -58
5 -13 -153 -1289 -173 -1401 -5 -26 -11 -33 -29 -33 -13 0 -44 -9 -70 -20 -26
-11 -50 -20 -55 -20 -10 0 -150 264 -150 282 0 7 18 26 40 42 22 16 52 48 67
70 24 35 28 54 31 126 5 100 -9 173 -50 255 -132 268 -436 397 -706 300 l-72
-26 -37 26 c-26 17 -51 25 -81 25 l-44 0 6 38 c12 63 16 69 49 76 53 10 134
55 153 83 19 30 32 188 33 392 1 86 -2 108 -16 124 -17 19 -17 19 32 12 28 -4
136 -29 240 -56z m-3228 19 c-3 -13 -9 -39 -12 -59 -6 -31 -12 -38 -53 -52
-26 -10 -74 -35 -107 -57 -33 -22 -75 -45 -92 -51 -42 -13 -42 -3 2 -349 118
-940 156 -1238 160 -1260 5 -22 -4 -35 -60 -84 -36 -32 -68 -57 -69 -55 -6 7
-35 223 -116 864 -22 176 -59 457 -81 624 -22 167 -36 307 -32 312 17 16 430
187 457 188 4 1 6 -9 3 -21z m1133 -10 c0 -38 -8 -52 -34 -61 -16 -6 -18 -14
-12 -54 3 -25 6 -91 6 -145 l0 -100 30 -11 c24 -9 30 -17 30 -40 0 -15 -7 -30
-15 -33 -21 -9 -73 15 -79 35 -3 9 -7 77 -11 151 -3 74 -8 159 -11 187 -5 47
-3 55 20 78 14 14 37 25 51 25 22 0 25 -4 25 -32z m1725 9 l26 -22 -10 -160
c-6 -88 -11 -176 -11 -195 0 -47 -17 -67 -62 -75 -38 -7 -38 -7 -38 28 0 28 4
36 24 41 32 8 36 28 36 184 0 126 -1 134 -20 139 -16 4 -20 14 -20 44 0 35 3
39 24 39 14 0 37 -10 51 -23z m-2574 -177 c28 -16 23 -34 -21 -74 -42 -38 -59
-43 -77 -25 -7 7 -12 6 -16 -5 -4 -10 -1 -13 9 -9 25 9 15 -13 -13 -28 -20
-11 -27 -11 -30 -1 -3 6 -10 12 -16 12 -5 0 -7 -3 -4 -7 14 -14 -43 -30 -114
-31 -71 -2 -159 20 -159 39 0 12 52 65 77 78 32 16 46 14 40 -9 -3 -10 -2 -19
2 -18 3 1 17 -4 30 -11 44 -24 149 -14 184 17 10 9 25 31 32 49 15 35 39 42
76 23z m583 -621 l38 -11 -38 -40 c-22 -22 -84 -79 -139 -127 -55 -47 -166
-146 -247 -218 -142 -129 -179 -152 -192 -117 -12 32 -5 124 14 187 47 152
169 273 325 323 50 16 187 18 239 3z m356 -19 c0 -16 -5 -86 -11 -155 -6 -68
-9 -135 -5 -149 4 -17 24 -32 68 -54 35 -17 147 -71 249 -121 103 -49 190 -94
193 -100 4 -6 -5 -18 -20 -28 -26 -17 -29 -16 -123 16 -160 54 -413 151 -471
179 -55 27 -55 27 -58 77 -4 58 11 152 39 250 30 102 40 115 94 115 43 0 45
-1 45 -30z m1603 -60 c34 -103 63 -265 54 -301 -8 -30 -69 -61 -272 -134 -71
-26 -170 -62 -220 -80 -130 -47 -147 -50 -176 -25 -24 20 -24 20 -4 32 11 7
83 42 160 79 284 133 335 161 341 186 4 13 1 86 -5 161 -15 192 -20 174 42
170 l52 -3 28 -85z m470 69 c167 -56 300 -208 327 -373 6 -36 7 -84 4 -106 -5
-33 -10 -40 -29 -40 -13 0 -38 15 -57 33 -82 78 -171 158 -263 235 -107 89
-269 242 -263 247 31 31 194 33 281 4z m-1822 -317 c230 -187 623 -209 893
-50 79 47 130 96 201 193 14 20 14 20 15 -1 0 -37 -51 -123 -98 -165 -67 -58
-118 -91 -232 -148 -55 -28 -108 -56 -119 -62 -15 -10 -31 -9 -78 4 -79 22
-119 21 -199 -5 -46 -15 -68 -18 -73 -10 -3 6 -55 36 -115 66 -169 88 -256
154 -308 235 -15 25 -28 58 -28 74 0 28 2 26 44 -30 24 -32 68 -77 97 -101z
m-316 -188 c369 -143 426 -167 435 -185 7 -11 8 -61 4 -130 l-7 -112 -49 -49
c-26 -26 -51 -48 -54 -48 -3 0 -61 26 -128 58 -151 73 -312 167 -320 188 -11
28 -46 246 -46 285 0 34 3 39 23 39 12 0 76 -21 142 -46z m1765 9 c0 -46 -26
-215 -39 -262 -6 -18 -20 -41 -33 -50 -42 -30 -223 -132 -303 -170 -126 -60
-120 -60 -175 -4 l-48 49 -7 115 c-3 63 -2 119 2 125 16 23 171 90 428 185
163 61 175 61 175 12z m-833 -122 c152 -72 212 -203 164 -357 -11 -38 -50
-116 -85 -174 l-64 -105 -146 -3 -146 -3 -34 53 c-18 29 -55 94 -82 143 -48
89 -49 91 -48 181 0 79 4 97 26 135 37 63 121 126 198 150 14 4 54 8 90 8 52
1 77 -5 127 -28z m-893 -367 c91 -36 236 -74 282 -74 36 0 47 6 78 40 l36 40
10 -25 c6 -15 10 -29 10 -33 0 -4 23 -44 50 -90 28 -46 50 -89 50 -96 0 -28
-117 -65 -232 -73 -163 -11 -285 32 -382 138 -57 61 -99 148 -111 231 l-7 46
77 -40 c42 -22 105 -51 139 -64z m1722 27 c-45 -178 -165 -296 -334 -332 -107
-22 -325 8 -379 53 -9 7 4 40 50 131 34 67 63 124 65 127 2 2 19 -14 38 -38
30 -35 41 -42 72 -42 81 0 356 92 452 151 25 16 46 24 48 19 2 -5 -4 -36 -12
-69z m-2039 55 c1 -1 9 -34 17 -74 34 -166 141 -325 267 -400 30 -18 38 -30
48 -77 15 -66 56 -118 108 -137 l35 -13 -4 -72 c-2 -39 -6 -75 -10 -79 -4 -3
-119 -13 -255 -20 -136 -7 -328 -21 -426 -30 -98 -8 -181 -14 -183 -11 -3 2
16 46 40 97 61 125 65 148 32 209 l-26 50 41 84 c44 92 43 119 -4 159 l-22 19
26 47 c14 26 52 95 84 154 l58 108 86 -6 c47 -4 87 -7 88 -8z m2408 -141 l82
-150 -30 -34 c-36 -42 -34 -81 12 -170 l30 -60 -26 -52 c-24 -46 -26 -54 -15
-93 6 -24 29 -81 51 -127 22 -46 38 -85 37 -86 -1 -2 -81 4 -177 12 -96 8
-288 21 -428 30 -140 8 -256 17 -258 18 -1 2 -5 35 -9 74 l-7 71 41 21 c39 20
102 85 102 106 0 5 5 27 10 47 8 29 24 47 71 80 133 93 223 242 253 420 l7 37
67 4 c37 2 75 3 86 3 13 -1 41 -43 101 -151z m-2962 -126 c78 -44 150 -88 160
-98 18 -17 17 -20 -5 -67 -30 -63 -53 -65 -53 -4 l0 44 -135 74 c-74 41 -137
76 -139 78 -5 5 17 54 24 54 3 0 69 -36 148 -81z m3425 57 c13 -28 11 -30 -63
-68 -27 -14 -84 -44 -125 -66 l-75 -40 -5 -48 c-7 -68 -29 -68 -58 -2 -22 50
-22 53 -5 69 16 16 209 129 220 129 2 0 21 11 41 25 46 31 56 31 70 1z m-3798
-104 c36 -18 56 -34 58 -47 2 -17 -69 -216 -152 -422 l-25 -63 37 0 c31 0 230
-74 248 -93 3 -2 -32 -8 -78 -12 -46 -4 -135 -13 -198 -21 -63 -8 -130 -14
-149 -14 l-33 0 3 79 c4 74 7 83 35 113 25 26 42 67 79 182 46 144 47 150 32
182 -16 32 -16 33 25 88 23 31 46 56 52 55 6 0 36 -12 66 -27z m4110 -25 c43
-58 48 -78 26 -96 -16 -14 -16 -14 48 -214 24 -73 45 -119 66 -143 30 -34 31
-38 28 -117 -3 -80 -3 -82 -28 -81 -85 5 -418 49 -414 55 9 14 213 89 243 89
17 0 31 4 31 10 0 5 -31 89 -69 187 -37 98 -74 196 -81 218 -7 22 -17 46 -23
53 -13 16 15 47 63 72 55 28 66 24 110 -33z m-3824 -39 c144 -72 145 -73 139
-103 -3 -16 -9 -33 -14 -38 -5 -5 -61 17 -127 48 -66 32 -134 64 -151 71 -18
8 -33 19 -33 25 0 13 29 69 36 69 2 0 70 -33 150 -72z m3608 30 c3 -17 3 -35
-1 -39 -12 -11 -304 -142 -308 -138 -2 2 -5 20 -7 39 -3 34 -1 36 62 69 98 50
213 100 231 101 11 0 19 -12 23 -32z m-2373 -202 c29 -5 38 -12 43 -32 4 -14
22 -39 42 -56 19 -17 33 -32 31 -35 -5 -4 -198 58 -239 77 -26 12 -61 67 -52
81 2 4 35 -1 72 -11 37 -10 83 -21 103 -24z m-1036 -67 c19 -27 35 -53 35 -59
0 -5 -26 -62 -57 -125 -53 -107 -59 -115 -90 -121 -19 -4 -35 -5 -37 -3 -2 2
17 86 42 186 33 134 48 180 58 176 8 -3 29 -27 49 -54z m3132 -105 c19 -88 37
-169 40 -181 6 -25 -9 -29 -49 -14 -31 12 -133 221 -124 255 6 25 83 112 92
104 3 -3 21 -77 41 -164z m-1087 -255 c129 -6 239 -15 243 -19 5 -4 -2 -6 -15
-4 -13 2 -176 8 -363 14 -734 23 -1581 -25 -2524 -141 -134 -17 -245 -28 -248
-26 -7 8 258 45 472 67 55 6 159 17 230 25 257 28 713 63 1105 84 225 12 840
12 1100 0z m710 -45 c356 -32 765 -76 973 -104 120 -17 222 -30 227 -30 6 0 4
-17 -4 -37 -28 -76 -96 -300 -117 -388 -21 -87 -21 -103 -15 -483 5 -370 5
-393 -12 -388 -9 3 -35 8 -57 12 -22 3 -47 11 -55 16 -11 7 -8 8 10 4 14 -3
43 -8 65 -11 l40 -7 -8 234 c-4 128 -6 314 -3 413 5 195 3 188 90 453 25 77
46 147 46 155 0 22 -358 69 -1065 137 -55 5 -197 17 -315 25 -118 9 -222 18
-230 20 -29 8 268 -6 430 -21z m-1100 -73 c0 -8 -69 -130 -115 -201 -13 -19
-63 -102 -111 -185 l-89 -150 -3 -212 -3 -212 -120 -3 -119 -3 0 205 0 205
-33 56 c-97 171 -164 284 -217 369 -32 52 -59 101 -59 108 -1 8 16 12 52 12
30 0 88 3 130 6 l75 7 31 -49 c17 -27 53 -94 81 -150 27 -55 56 -106 64 -113
12 -11 26 11 92 144 51 104 84 160 98 165 28 12 246 12 246 1z m422 -121 c33
-136 118 -451 126 -464 3 -5 16 26 29 70 29 96 114 418 121 457 2 15 8 30 13
32 8 5 167 -7 267 -21 l42 -5 0 -490 0 -491 -27 6 c-16 3 -57 8 -93 11 -36 3
-78 8 -93 11 l-28 6 2 279 c1 154 -1 282 -4 285 -3 3 -10 -11 -16 -32 -5 -22
-21 -84 -36 -139 -15 -55 -38 -143 -51 -195 -14 -52 -32 -117 -41 -143 l-15
-49 -72 7 c-39 4 -73 9 -75 11 -2 2 -32 113 -66 246 -98 382 -90 378 -93 44
l-2 -289 -83 6 c-45 4 -99 7 -119 7 l-38 0 0 480 0 480 162 -2 163 -3 27 -115z
m-1602 -311 l0 -392 78 7 c42 3 126 11 186 16 60 5 113 7 119 3 10 -6 3 -165
-8 -183 -3 -6 -27 -10 -53 -10 -49 0 -390 -34 -502 -50 -36 -5 -68 -10 -72
-10 -5 0 -8 223 -8 495 l0 494 33 6 c37 6 101 11 175 13 l52 2 0 -391z m-1395
364 c-11 -3 -23 -8 -27 -12 -4 -4 11 -72 33 -151 87 -309 90 -345 69 -854 -6
-137 -9 -251 -6 -253 2 -3 62 7 133 22 104 21 259 49 388 70 11 2 85 15 165
29 928 164 1830 192 2750 85 365 -42 1056 -161 1045 -179 -3 -4 -35 -1 -72 7
-189 40 -593 110 -763 133 -41 5 -111 14 -155 20 -497 64 -1257 84 -1792 47
-409 -29 -886 -97 -1433 -204 -129 -25 -246 -48 -260 -50 l-25 -5 7 144 c4 79
8 267 9 418 l3 275 -36 140 c-20 77 -46 167 -56 200 -11 33 -23 75 -27 93 -7
32 -6 32 32 31 21 -1 29 -3 18 -6z m3961 -18 c104 -13 249 -31 322 -40 144
-17 176 -28 215 -74 46 -55 50 -88 44 -308 -6 -231 -12 -249 -85 -284 l-44
-22 -186 32 c-103 17 -190 31 -194 31 -5 0 -8 -76 -8 -170 0 -170 0 -170 -22
-170 -25 0 -191 27 -220 36 -17 5 -18 38 -18 500 0 272 1 494 3 494 2 0 89
-11 193 -25z m-3018 -49 l32 -36 0 -396 c0 -272 -3 -402 -11 -417 -18 -34 -81
-98 -109 -109 -14 -5 -65 -16 -115 -24 -49 -7 -153 -25 -230 -39 -162 -29
-205 -31 -244 -11 -64 34 -63 30 -67 460 -1 221 2 407 7 428 11 44 50 93 91
114 25 13 128 29 483 72 83 11 124 0 163 -42z m2017 -1124 l40 -8 -165 -108
c-91 -59 -181 -118 -200 -130 -19 -13 -70 -46 -113 -74 -43 -29 -82 -52 -87
-52 -5 0 -92 53 -192 118 -305 198 -377 246 -373 250 19 19 993 23 1090 4z
m-1234 -68 c46 -31 223 -146 392 -256 276 -179 311 -199 332 -190 23 11 117
70 280 177 44 29 134 87 200 130 66 43 157 102 202 132 l81 55 96 -7 c53 -4
98 -11 101 -14 2 -4 -19 -23 -48 -42 -29 -19 -106 -71 -172 -115 -66 -45 -237
-157 -380 -249 -143 -92 -286 -184 -319 -205 l-59 -38 -63 42 c-35 22 -112 72
-171 111 -291 188 -743 489 -743 495 0 4 39 11 88 17 48 5 90 11 93 11 4 1 44
-23 90 -54z" />
				<path
					d="M2565 5283 c-70 -19 -105 -81 -105 -186 0 -183 70 -308 257 -456 30
-24 58 -64 105 -152 34 -66 78 -134 96 -152 l33 -32 204 0 c244 0 226 -10 314
165 62 120 81 143 224 263 99 83 157 214 157 355 0 84 -15 125 -59 167 -28 26
-39 30 -89 29 -142 -3 -297 -128 -357 -287 -21 -56 -60 -187 -105 -349 -13
-45 -43 -68 -90 -68 -62 0 -73 18 -120 210 -50 201 -97 296 -189 382 -89 83
-205 130 -276 111z m168 -176 c96 -41 163 -201 107 -257 -40 -40 -136 -11
-183 57 -47 68 -50 185 -4 203 31 12 43 12 80 -3z m944 -9 c29 -24 11 -143
-29 -201 -44 -62 -150 -85 -184 -40 -32 42 -9 137 48 199 55 60 123 77 165 42z" />
				<path
					d="M3087 3826 c-108 -30 -176 -111 -185 -223 -12 -143 104 -263 253
-263 186 0 309 189 231 356 -49 106 -180 163 -299 130z m2 -124 c15 -15 34
-38 43 -51 l17 -24 49 51 c43 47 52 52 90 52 23 0 42 -3 42 -6 0 -4 -15 -25
-33 -48 -57 -71 -95 -139 -112 -201 -10 -33 -21 -64 -25 -68 -4 -5 -18 22 -30
60 -30 91 -41 110 -100 183 -27 35 -48 66 -45 70 2 4 21 7 41 8 27 1 43 -5 63
-26z" />
				<path
					d="M4747 2173 c-4 -3 -7 -64 -7 -134 l0 -127 28 -6 c131 -24 192 -29
206 -16 21 17 23 231 3 248 -7 6 -47 16 -88 22 -40 6 -88 13 -105 15 -17 3
-33 2 -37 -2z" />
				<path
					d="M1272 2156 c-40 -7 -78 -18 -85 -25 -19 -19 -23 -589 -4 -615 14 -19
17 -19 113 -3 76 13 103 22 117 38 15 19 17 50 17 308 0 210 -3 290 -12 299
-14 14 -49 14 -146 -2z" />
			</g>
		</svg>
	</div>
	<div class="parent">
		<!-- <div class="div2">
			<div class="analog">
				<div class="analog-data">
					<div class="analog-value" id="slider-txt">0</div>
					<div class="div-slider">
						<input
							id="slider-val"
							class="slider"
							type="range"
							value="0"
							min="0"
							max="255" />
					</div>
				</div>
				<button class="btn-set" id="btn-set">SET</button>
			</div>
		</div> -->
		<div class="div3">
			<button class="circ-btn" id="btn-fire">RELAY</button
			><button class="circ-btn" id="btn-led">LED</button>
		</div>
		<div class="container space-top">
			<div class="center-align">
				<canvas id="joystick" height="300" width="300"></canvas>
			</div>
		</div>
	</div>

	<script>
		function SEND(M1, M2) {
			websocket.send(JSON.stringify({ m1: M1, m2: M2 }))
			console.log(`SPEED - 1: ${M1}; 2: ${M2}`)
		}
		function init() {
			// easal stuff goes hur
			var xCenter = 150
			var yCenter = 150
			var stage = new createjs.Stage('joystick')

			var psp = new createjs.Shape()
			psp.graphics.beginFill('#333333').drawCircle(xCenter, yCenter, 50)

			psp.alpha = 0.25

			var vertical = new createjs.Shape()
			var horizontal = new createjs.Shape()

			stage.addChild(psp)
			stage.addChild(vertical)
			stage.addChild(horizontal)
			createjs.Ticker.framerate = 60
			createjs.Ticker.addEventListener('tick', stage)
			stage.update()

			var myElement = $('#joystick')[0]

			// create a simple instance
			// by default, it only adds horizontal recognizers
			var mc = new Hammer(myElement)

			mc.on('panstart', function (ev) {
				var pos = $('#joystick').position()
				xCenter = psp.x
				yCenter = psp.y
				psp.alpha = 0.5

				stage.update()
			})

			// listen to events...
			mc.on('panmove', function (ev) {
				var pos = $('#joystick').position()

				var x = ev.center.x - pos.left - 150
				var y = ev.center.y - pos.top - 150

				const coordXSend = Math.round(psp.x * 2.55)
				const coordYSend = Math.round(-psp.y * 2.55)

				const MOVE = []
				if (coordXSend < 70 && coordXSend > -70) {
					MOVE[1] = 'РОВНО'
				} else if (coordXSend > 0) {
					MOVE[1] = 'ВПРАВО'
				} else {
					MOVE[1] = 'ВЛЕВО'
				}

				if (coordYSend < 70 && coordYSend > -70) {
					MOVE[0] = 'РОВНО'
				} else if (coordYSend > 0) {
					MOVE[0] = 'ВПЕРЁД'
				} else {
					MOVE[0] = 'НАЗАД'
				}

				K = 1.8
				const DIAG = Math.round((coordXSend ** 2 + coordYSend ** 2) ** 0.5)
				const noDIAG = Math.round(DIAG / K)
				// console.log(`${MOVE[0]} ${MOVE[1]}`)
				// if (
				// 	(MOVE[0] === 'ВПЕРЁД' || MOVE[0] === 'НАЗАД') &&
				// 	MOVE[1] === 'РОВНО'
				// ) {
				// 	SEND(coordYSend, coordYSend)
				// } else if (MOVE[1] === 'ВПРАВО' && MOVE[0] === 'НАЗАД') {
				// 	SEND(-DIAG, -noDIAG)
				// } else if (MOVE[1] === 'ВПРАВО' && MOVE[0] === 'ВПЕРЁД') {
				// 	SEND(DIAG, noDIAG)
				// } else if (MOVE[1] === 'ВЛЕВО' && MOVE[0] === 'НАЗАД') {
				// 	SEND(-noDIAG, -DIAG)
				// } else if (MOVE[1] === 'ВЛЕВО' && MOVE[0] === 'ВПЕРЁД') {
				// 	SEND(noDIAG, DIAG)
				// }

				// if (
				// 	(MOVE[1] === 'ВПРАВО' || MOVE[1] === 'ВЛЕВО') &&
				// 	MOVE[0] === 'РОВНО'
				// ) {
				// 	SEND(coordXSend, -coordXSend)
				// }

				var coords = calculateCoords(ev.angle, ev.distance)

				psp.x = coords.x
				psp.y = coords.y

				psp.alpha = 0.5

				stage.update()
			})

			mc.on('panend', function (ev) {
				psp.alpha = 0.25
				createjs.Tween.get(psp).to(
					{ x: xCenter, y: yCenter },
					750,
					createjs.Ease.elasticOut
				)
				console.log('ОСТАНОВКА')
			})
		}

		function calculateCoords(angle, distance) {
			var coords = {}
			distance = Math.min(distance, 100)
			var rads = (angle * Math.PI) / 180.0

			coords.x = distance * Math.cos(rads)
			coords.y = distance * Math.sin(rads)

			return coords
		}
	</script>

	<script>
		let gateway = `ws://${window.location.hostname}/ws`

		let sliderTxt = document.querySelector('#slider-txt')
		let sliderVal = document.querySelector('#slider-val')
		let fireBtn = document.querySelector('#btn-fire')
		let ledBtn = document.querySelector('#btn-led')
		let ledState = 0
		let fireState = 0

		let websocket
		window.addEventListener('load', onload)

		function onload(event) {
			initWebSocket()
			initButtons()
			init()
		}

		function initButtons() {
			// document.querySelector('#btn-up').addEventListener('click', () => {
			// 	websocket.send(JSON.stringify({ dir: 1 }))
			// })
			// document.querySelector('#btn-dn').addEventListener('click', () => {
			// 	websocket.send(JSON.stringify({ dir: 2 }))
			// })
			// document.querySelector('#btn-lt').addEventListener('click', () => {
			// 	websocket.send(JSON.stringify({ dir: 3 }))
			// })
			// document.querySelector('#btn-rt').addEventListener('click', () => {
			// 	websocket.send(JSON.stringify({ dir: 4 }))
			// })
			// document.querySelector('#btn-sp').addEventListener('click', () => {
			// 	websocket.send(JSON.stringify({ dir: 0 }))
			// })

			// document.querySelector('#btn-set').addEventListener('click', () => {
			// 	websocket.send(JSON.stringify({ slider: parseInt(sliderVal.value) }))
			// })
			document.querySelector('#btn-led').addEventListener('click', () => {
				ledState = !ledState
				toggleBg(ledBtn, ledState)
				websocket.send(JSON.stringify({ led: ledState ? 1 : 0 }))
			})

			document.querySelector('#btn-fire').addEventListener('click', () => {
				fireState = !fireState
				toggleBg(fireBtn, fireState)
				websocket.send(JSON.stringify({ fire: fireState ? 1 : 0 }))
			})

			// document.querySelector('#slider-val').addEventListener('change', () => {
			// 	document.querySelector('#slider-txt').innerHTML = sliderVal.value
			// })
		}

		function toggleBg(btn, state) {
			if (state) {
				btn.style.background = '#ff0000'
			} else {
				btn.style.background = '#ffffff'
			}
		}

		function initWebSocket() {
			console.log('Trying to open a WebSocket connection…')
			websocket = new WebSocket(gateway)
			websocket.onopen = onOpen
			websocket.onclose = onClose
			websocket.onmessage = onMessage
		}

		function onOpen(event) {
			console.log('Connection opened')
			getReadings()
		}

		function onClose(event) {
			console.log('Connection closed')
			setTimeout(initWebSocket, 2000)
		}

		function getReadings() {
			websocket.send('getReadings')
		}

		function onMessage(event) {
			websocket.send('getReadings')
		}
	</script>
</html>
